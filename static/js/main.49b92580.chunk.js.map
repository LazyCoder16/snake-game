{"version":3,"sources":["Box.js","Board.js","Game.js","App.js","reportWebVitals.js","index.js"],"names":["Box","props","className","style","backgroundColor","color","Board","renderBox","i","j","board","renderRow","items","N","push","rows","this","Component","Game","state","makeBoard","done","snake","dx","dy","apple","spawnApple","changingDir","handleKeyPress","e","keyCode","setState","componentDidMount","interval","setInterval","temp","length","splice","x","y","document","addEventListener","componentWillUnmount","clearInterval","handleRetry","Array","fill","ax","Math","floor","random","ay","onKeyDown","id","onClick","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.49b92580.chunk.js","sourcesContent":["const Box = (props) => {\r\n  return (\r\n    <button className=\"box\" style={{backgroundColor: props.color}}>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Box;","import { Component } from \"react\";\r\nimport Box from \"./Box\";\r\n\r\nclass Board extends Component {\r\n  renderBox = (i, j) => {\r\n    var color;\r\n    switch(this.props.board[i][j]) {\r\n      case 0: {\r\n        color = \"#000000\";\r\n        break;\r\n      }\r\n      case 1: {\r\n        color = \"#ffffff\";\r\n        break;\r\n      }\r\n      case 2: {\r\n        color = \"#ff0000\";\r\n        break;\r\n      }\r\n      default: { }\r\n    }\r\n    return <Box color={color} key={`${i} ${j}`}/>\r\n  }\r\n\r\n  renderRow = (i) => {\r\n    var items = [];\r\n    for(var j=0; j<this.props.N; ++j) {\r\n      items.push(this.renderBox(i, j));\r\n    }\r\n    return (\r\n      <div className=\"board-row\" key={i}>\r\n        {items}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    var rows = [];\r\n    for(var i=0; i<this.props.N; ++i) {\r\n      rows.push(this.renderRow(i));\r\n    }\r\n    return (\r\n      <div className=\"board\">\r\n        {rows}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Board;","import { Component } from \"react\";\r\nimport Board from \"./Board\";\r\n\r\nclass Game extends Component {\r\n  N = 13;\r\n  state = {\r\n    board: this.makeBoard(),\r\n    done: false,\r\n    snake: [[8, 3], [9, 3], [10, 3]],\r\n    dx: -1,\r\n    dy: 0,\r\n    apple: this.spawnApple(this.makeBoard()),\r\n    changingDir: false\r\n  };\r\n\r\n  handleKeyPress = (e) => {\r\n    var {dx, dy, changingDir} = this.state;\r\n    if(changingDir) return;\r\n\r\n    switch(e.keyCode) {\r\n      case 38: {\r\n        if(dx !== 0) break;\r\n        dx = -1;\r\n        dy = 0;\r\n        this.setState({dx, dy, changingDir: true});\r\n        break;\r\n      }\r\n      case 40: {\r\n        if(dx !== 0) break;\r\n        dx = 1;\r\n        dy = 0;\r\n        this.setState({dx, dy, changingDir: true});\r\n        break;\r\n      }\r\n      case 37: {\r\n        if(dy !== 0) break;\r\n        dx = 0;\r\n        dy = -1;\r\n        this.setState({dx, dy, changingDir: true});\r\n        break;\r\n      }\r\n      case 39: {\r\n        if(dy !== 0) break;\r\n        dx = 0;\r\n        dy = 1;\r\n        this.setState({dx, dy, changingDir: true});\r\n        break;\r\n      }\r\n      default: { }\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.interval = setInterval(() => {\r\n      var {snake, board, dx, dy, apple, done} = this.state;\r\n      if(done) return;\r\n      var temp = snake[snake.length-1];\r\n      snake.splice(snake.length-1, 1);\r\n      \r\n      var x = snake[0][0]+dx, y = snake[0][1]+dy;\r\n      if(x<0 || x>=this.N || y<0 || y>=this.N) {\r\n        this.setState({done: true});\r\n        return;\r\n      }\r\n      for(var i=0; i<snake.length; ++i) {\r\n        if(snake[i][0]===x && snake[i][1]===y) {\r\n          this.setState({done: true});\r\n          return;\r\n        }\r\n      }\r\n      if(x===apple[0] && y===apple[1]) {\r\n        apple = this.spawnApple(board);\r\n        snake.push(temp);\r\n      }\r\n      snake.splice(0, 0, [x, y]);\r\n\r\n      board = this.makeBoard();\r\n      for(i=0; i<snake.length; ++i) {\r\n        board[snake[i][0]][snake[i][1]] = 1;\r\n      }\r\n      board[apple[0]][apple[1]] = 2;\r\n      this.setState({board, snake, apple, changingDir: false});\r\n    }, 150);\r\n    document.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  makeBoard() {\r\n    var board = Array(this.N);\r\n    for(var i=0; i<this.N; ++i) {\r\n      board[i] = Array(this.N).fill(0);\r\n    }\r\n    return board;\r\n  }\r\n\r\n  spawnApple(board) {\r\n    while(1) {\r\n      var ax = Math.floor(Math.random() * this.N);\r\n      var ay = Math.floor(Math.random() * this.N);\r\n      if(board[ax][ay] === 0) {\r\n        return [ax, ay];\r\n      }\r\n    }\r\n  }\r\n\r\n  handleRetry = () => {\r\n    var state = {\r\n      board: this.makeBoard(),\r\n      done: false,\r\n      snake: [[8, 3], [9, 3], [10, 3]],\r\n      dx: -1,\r\n      dy: 0,\r\n      apple: this.spawnApple(this.makeBoard())\r\n    }\r\n    this.setState(state);\r\n  }\r\n\r\n  render() {\r\n    let {board, snake, done} = this.state;\r\n    return (\r\n      <div className=\"game\" onKeyDown={this.handleKeyPress}>\r\n        <Board N={this.N} board={board}/>\r\n        <div className=\"bottom-bar\">\r\n          <p id=\"score\">Score: {snake.length - 3 + done}</p>\r\n          <button id=\"retry-button\" onClick={this.handleRetry}>Retry</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;","import './App.css';\nimport Game from './Game';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header id=\"title-container\">\n        <h3 id=\"title\">GreedySnake</h3>\n        <p id=\"tag-line\">Accompolish snake's ambition to become as long as possible!</p>\n      </header>\n\n      <Game/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}